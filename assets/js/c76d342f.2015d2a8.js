"use strict";(self.webpackChunkstacklok=self.webpackChunkstacklok||[]).push([[5604],{3905:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>h});var r=t(67294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var s=r.createContext({}),u=function(e){var n=r.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):a(a({},n),e)),t},c=function(e){var n=u(e.components);return r.createElement(s.Provider,{value:n},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},g=r.forwardRef((function(e,n){var t=e.components,o=e.mdxType,i=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=u(t),g=o,h=d["".concat(s,".").concat(g)]||d[g]||p[g]||i;return t?r.createElement(h,a(a({ref:n},c),{},{components:t})):r.createElement(h,a({ref:n},c))}));function h(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var i=t.length,a=new Array(i);a[0]=g;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l[d]="string"==typeof e?e:o,a[1]=l;for(var u=2;u<i;u++)a[u]=t[u];return r.createElement.apply(null,a)}return r.createElement.apply(null,t)}g.displayName="MDXCreateElement"},90460:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>a,default:()=>p,frontMatter:()=>i,metadata:()=>l,toc:()=>u});var r=t(87462),o=(t(67294),t(3905));const i={title:"Logging in to Minder",sidebar_position:20},a="Logging in and Enrolling a Provider",l={unversionedId:"getting_started/login",id:"getting_started/login",title:"Logging in to Minder",description:"Minder consists of a client-side CLI tool and a server-side component.  The server-side component runs as a multi-user service.  In order to use Minder to manage repositories and artifacts, you need to log in, which will automatically create an account.",source:"@site/docs/getting_started/login.md",sourceDirName:"getting_started",slug:"/getting_started/login",permalink:"/getting_started/login",draft:!1,tags:[],version:"current",sidebarPosition:20,frontMatter:{title:"Logging in to Minder",sidebar_position:20},sidebar:"minder",previous:{title:"Install Minder CLI",permalink:"/getting_started/install_cli"},next:{title:"Register Repositories",permalink:"/getting_started/register_repos"}},s={},u=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Logging in to the Stacklok-hosted instance",id:"logging-in-to-the-stacklok-hosted-instance",level:2},{value:"Logging in to your own Minder instance",id:"logging-in-to-your-own-minder-instance",level:2},{value:"Enrolling the GitHub Provider",id:"enrolling-the-github-provider",level:2}],c={toc:u},d="wrapper";function p(e){let{components:n,...i}=e;return(0,o.kt)(d,(0,r.Z)({},c,i,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"logging-in-and-enrolling-a-provider"},"Logging in and Enrolling a Provider"),(0,o.kt)("p",null,"Minder consists of a client-side CLI tool and a server-side component.  The server-side component runs as a multi-user service.  In order to use Minder to manage repositories and artifacts, you need to log in, which will automatically create an account."),(0,o.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/getting_started/install_cli"},"The ",(0,o.kt)("inlineCode",{parentName:"a"},"minder")," CLI application")),(0,o.kt)("li",{parentName:"ul"},"A running Minder server, including a running KeyCloak installation")),(0,o.kt)("p",null,"If you don't want to run your own Minder server, Stacklok hosts a public instance.  See ",(0,o.kt)("a",{parentName:"p",href:"#logging-in-to-the-stacklok-hosted-instance"},"Logging in to the Stacklok-hosted Instance")," below."),(0,o.kt)("h2",{id:"logging-in-to-the-stacklok-hosted-instance"},"Logging in to the Stacklok-hosted instance"),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"minder")," CLI defaults to using the hosted Stacklok environment.  When using the hosted environment, you do not need to set up a server; you simply log in to the Stacklok authentication instance using your GitHub credentials."),(0,o.kt)("p",null,"You can use the Stacklok hosted environment by running:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"minder auth login\n")),(0,o.kt)("p",null,"A new browser window will open and you will be prompted to log in to the Stacklok instance using your GitHub credentials.  Once you have logged in, proceed to enroll your credentials in Minder."),(0,o.kt)("h2",{id:"logging-in-to-your-own-minder-instance"},"Logging in to your own Minder instance"),(0,o.kt)("p",null,"To log in to a Minder server which you are running (self-hosted), you will need to know the URL of the Minder server and of the Keycloak instance used for authentication.  If you are using ",(0,o.kt)("a",{parentName:"p",href:"/run_minder_server/run_the_server"},(0,o.kt)("inlineCode",{parentName:"a"},"docker-compose")," to run Minder on your local machine"),", these addresses will be ",(0,o.kt)("inlineCode",{parentName:"p"},"localhost:8090")," for Minder and ",(0,o.kt)("inlineCode",{parentName:"p"},"localhost:8081")," for Keycloak."),(0,o.kt)("p",null,"You can log in to Minder using:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"minder auth login --grpc-host localhost --grpc-port 8090 --identity-url http://localhost:8081\n")),(0,o.kt)("p",null,"Your web browser will be opened to log in to Keycloak, and then a banner  will be printed an"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"    You have successfully logged in.\n \n Here are your details: \n\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Key                    Value                   \u2502\n\u2502 Project Name           KeyCloak-username       \u2502\n\u2502 Minder Server          localhost:8090          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\nYour access credentials have been saved to ~/.config/minder/credentials.json\n")),(0,o.kt)("p",null,"Once you have logged in, you'll want to ",(0,o.kt)("a",{parentName:"p",href:"#enrolling-the-github-provider"},"enroll your GitHub credentials in Minder so that it can act on your behalf"),"."),(0,o.kt)("h2",{id:"enrolling-the-github-provider"},"Enrolling the GitHub Provider"),(0,o.kt)("p",null,"Once you have authenticated to Minder, you'll want to enroll your GitHub credentials to allow Minder to manage your GitHub repositories.  In the future, Minder will support other source control and artifact repositories, and you will be able to enroll credentials for those providers in the same manner."),(0,o.kt)("p",null,"To enroll your GitHub credentials in your Minder account, run:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"minder provider enroll --provider github\n")),(0,o.kt)("p",null,"A browser session will open, and you will be prompted to login to your GitHub account."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Enrollment screenshot",src:t(77786).Z,width:"509",height:"919"})),(0,o.kt)("p",null,"Once you have granted Minder access, you will be redirected back, and the user will be enrolled. The ",(0,o.kt)("inlineCode",{parentName:"p"},"minder")," CLI application will report the session is complete."),(0,o.kt)("p",null,"When enrolling an organization, use the ",(0,o.kt)("inlineCode",{parentName:"p"},"--owner")," flag of the ",(0,o.kt)("inlineCode",{parentName:"p"},"minder provider enroll")," command to specify the organization name:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"minder provider enroll --provider github --owner test-org\n")),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"--owner")," flag is not required when enrolling repositories from your personal account."),(0,o.kt)("p",null,"Note: If you are enrolling an organization, the account you use to enroll must be an Owner in the organization\nor an Admin on the repositories you will be registering."))}p.isMDXComponent=!0},77786:(e,n,t)=>{t.d(n,{Z:()=>r});const r=t.p+"assets/images/enroll-screenshot-fe0f1384aad430a00197da6994917a12.png"}}]);